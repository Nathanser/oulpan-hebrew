<section class="card">
  <h1><%= theme ? 'Modifier le thème' : 'Ajouter un thème' %></h1>

  <form method="post" action="<%= action %>" class="form">
    <label>Nom
      <input type="text" name="name" value="<%= theme ? theme.name : '' %>" required />
    </label>

    <label>Parent (optionnel)
      <select name="parent_id">
        <option value="">(aucun parent)</option>
        <% parents.forEach(p => { %>
          <option value="<%= p.id %>" <%= theme && theme.parent_id === p.id ? 'selected' : '' %>><%= p.name %></option>
        <% }) %>
      </select>
    </label>

    <label>
      <input type="checkbox" name="active" value="1" <%= !theme || theme.active ? 'checked' : '' %> />
      Thème actif
    </label>

    <button type="submit"><%= theme ? 'Sauvegarder' : 'Creer' %></button>
  </form>
</section>
